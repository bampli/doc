<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Cyclo Graph The Cyclo graph has Product and Stage vertices and a bidirecional sendW edge.
The raw material is a product that enters the process through a stage. Then, it becomes a work-in-process (wip) asset that is sent from one stage to another, until the final product is obtained. The sendW edge expects to send WIPs along the production flow, clustered by timestep.
// cyclo-v1-schema schema.vertexLabel('Stage'). ifNotExists(). partitionBy('stage_name', Text). create(); schema."><meta property="og:title" content="Cyclo Graph"><meta property="og:description" content="Cyclo Graph The Cyclo graph has Product and Stage vertices and a bidirecional sendW edge.
The raw material is a product that enters the process through a stage. Then, it becomes a work-in-process (wip) asset that is sent from one stage to another, until the final product is obtained. The sendW edge expects to send WIPs along the production flow, clustered by timestep.
// cyclo-v1-schema schema.vertexLabel('Stage'). ifNotExists(). partitionBy('stage_name', Text). create(); schema."><meta property="og:type" content="article"><meta property="og:url" content="https://bampli.github.io/docs/docs/cyclo/graph/"><title>Cyclo Graph | bAmpli v0.05-05</title><link rel=icon href=/docs/favicon.png type=image/x-icon><link rel=stylesheet href=/docs/book.min.63eb88daa545365405ecdbb21033286a325c60a36cfa6d22d21e7c3bc9286941.css integrity="sha256-Y+uI2qVFNlQF7NuyEDMoajJcYKNs+m0i0h58O8koaUE="><script defer src=/docs/en.search.min.5576a6360ad1db58cb177d9e987421eb2030f47395677f903d1e7a804839d4ca.js integrity="sha256-VXamNgrR21jLF32emHQh6yAw9HOVZ3+QPR56gEg51Mo="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/docs><span>bAmpli v0.05-05</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/docs/intro/what-to-change/>What to change?</a></li><li><a href=/docs/docs/intro/to-what-to-change/>To what to change?</a></li><li><a href=/docs/docs/intro/how-to-change/>How to change?</a></li><li><a href=/docs/docs/process/>The Process</a><ul></ul></li><li><a href=/docs/docs/cyclo/>Cyclo</a><ul><li><a href=/docs/docs/cyclo/time/>Times of Gain</a></li><li><a href=/docs/docs/cyclo/graph/ class=active>Cyclo Graph</a></li><li><a href=/docs/docs/cyclo/model/>Cyclo Model</a></li><li><a href=/docs/docs/cyclo/service/>Cyclo Service</a></li><li><a href=/docs/docs/cyclo/dao/>Data Access</a></li></ul></li><li><a href=/docs/docs/bampli/>Business Amplifier</a><ul></ul></li></ul><ul><li><a href=/docs/posts/>Blog</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/docs/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Cyclo Graph</strong>
<label for=toc-control><img src=/docs/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#pq-factory-cyclo>P&Q Factory Cyclo</a></li><li><a href=#cyclo-api>Cyclo API</a></li><li><a href=#cyclo-server>Cyclo server</a></li></ul></nav></aside></header><article class=markdown><h1 id=cyclo-graph>Cyclo Graph</h1><p>The Cyclo graph has <strong>Product</strong> and <strong>Stage</strong> vertices and a bidirecional <strong>sendW</strong> edge.</p><p><img src=https://user-images.githubusercontent.com/86032/86792421-dad42e80-c040-11ea-98c6-7e7f324c8d1b.jpg alt=cyclo-v1-schema></p><p>The raw material is a product that enters the process through a stage. Then, it becomes a work-in-process (wip) asset that is sent from one stage to another, until the final product is obtained. The sendW edge expects to send <strong>WIPs</strong> along the production flow, clustered by <strong>timestep</strong>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-groovy data-lang=groovy><span style=color:#75715e>// cyclo-v1-schema
</span><span style=color:#75715e></span>schema<span style=color:#f92672>.</span><span style=color:#a6e22e>vertexLabel</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;Stage&#39;</span><span style=color:#f92672>).</span>
       ifNotExists<span style=color:#f92672>().</span>
       partitionBy<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;stage_name&#39;</span><span style=color:#f92672>,</span> Text<span style=color:#f92672>).</span>
       create<span style=color:#f92672>();</span>

schema<span style=color:#f92672>.</span><span style=color:#a6e22e>vertexLabel</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;Product&#39;</span><span style=color:#f92672>).</span>
       ifNotExists<span style=color:#f92672>().</span>
       partitionBy<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;product_name&#39;</span><span style=color:#f92672>,</span> Text<span style=color:#f92672>).</span>
       property<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;latitude&#39;</span><span style=color:#f92672>,</span> Double<span style=color:#f92672>).</span>
       property<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;longitude&#39;</span><span style=color:#f92672>,</span> Double<span style=color:#f92672>).</span>
       property<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;coordinates&#39;</span><span style=color:#f92672>,</span> Point<span style=color:#f92672>).</span>
       create<span style=color:#f92672>();</span>

schema<span style=color:#f92672>.</span><span style=color:#a6e22e>edgeLabel</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;sendW&#39;</span><span style=color:#f92672>).</span>
       ifNotExists<span style=color:#f92672>().</span>
       from<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;Stage&#39;</span><span style=color:#f92672>).</span>
       to<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;Stage&#39;</span><span style=color:#f92672>).</span>
       clusterBy<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;timestep&#39;</span><span style=color:#f92672>,</span> Int<span style=color:#f92672>,</span> Desc<span style=color:#f92672>).</span>
       create<span style=color:#f92672>();</span>

schema<span style=color:#f92672>.</span><span style=color:#a6e22e>edgeLabel</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;sendW&#39;</span><span style=color:#f92672>).</span>
       ifNotExists<span style=color:#f92672>().</span>
       from<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;Stage&#39;</span><span style=color:#f92672>).</span>
       to<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;Product&#39;</span><span style=color:#f92672>).</span>
       clusterBy<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;timestep&#39;</span><span style=color:#f92672>,</span> Int<span style=color:#f92672>,</span> Desc<span style=color:#f92672>).</span>
       create<span style=color:#f92672>();</span>

schema<span style=color:#f92672>.</span><span style=color:#a6e22e>edgeLabel</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;sendW&#39;</span><span style=color:#f92672>).</span>
       ifNotExists<span style=color:#f92672>().</span>
       from<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;Product&#39;</span><span style=color:#f92672>).</span>
       to<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;Stage&#39;</span><span style=color:#f92672>).</span>
       clusterBy<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;timestep&#39;</span><span style=color:#f92672>,</span> Int<span style=color:#f92672>,</span> Desc<span style=color:#f92672>).</span>
       create<span style=color:#f92672>();</span>
</code></pre></div><p>More details are shown at the links below:</p><ul><li><a href=https://github.com/bampli/bampli/blob/master/datastax/models/cyclo-v1-schema.groovy>Cyclo-v1</a> schema generated in Gremlin for the Cyclo graph.</li><li>Corresponding <a href=https://github.com/bampli/bampli/blob/master/datastax/models/cyclo-v1-schema.cql>CQL</a> schema for Cassandra.</li><li>The schema is inspired by the Datastax <a href=https://github.com/datastax/graph-book>graph-book</a>.</li></ul><h2 id=pq-factory-cyclo>P&Q Factory Cyclo</h2><p>The <a href=/docs/posts/pq-factory/><strong>P&Q Factory</strong></a> is used as a sample, its manufacturing production flow is shown below:</p><script src=/docs/mermaid.min.js></script><script>mermaid.initialize({flowchart:{useMaxWidth:true}});</script><p class=mermaid>graph LR
PP[P-Part $5/u] --> D1[D 15min/u] --> P[P $90/u 100u/wk]
RM1[RM1 $20/u] --> A1[A 15min/u] --> C1[C 10min/u] --> D1
RM2[RM2 $20/u] --> B2[B 15min/u] --> C2[C 5min/u] --> D1
C2 --> D2[D]
RM3[RM3 $20/u] --> A3[A 10min/u] --> B3[B 15min/u] --> D2[D 5min/u] --> Q[Q $100/U 50u/wk]</p><p>It is also represented according to the product and stage vertices, as shown below:</p><p><img src=https://user-images.githubusercontent.com/86032/86799006-d2332680-c047-11ea-8d02-9da1042c1e51.png alt="p q-graph"></p><h2 id=cyclo-api>Cyclo API</h2><p>The <a href=https://app.swaggerhub.com/apis/motta/bampli>Cyclo API</a> is located at the Business Amplifier project.</p><h2 id=cyclo-server>Cyclo server</h2><p><strong>bAmpli Cyclo Control</strong>: Given a Cyclo, start it.</p><p>Product (Raw Material) &ndash;> Stage &ndash;> Stage &ndash;> Product (for Sale)</p></article><footer class=book-footer><div class="flex justify-between"></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#pq-factory-cyclo>P&Q Factory Cyclo</a></li><li><a href=#cyclo-api>Cyclo API</a></li><li><a href=#cyclo-server>Cyclo server</a></li></ul></nav></aside></main></body></html>