<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Graph scheme The Cyclo graph scheme has Product and Stage vertices and a bidirecional sendW edge. The raw material products enter the process, and become work-in-process assets that move from one stage to another until the final product is obtained.
// cyclo-v1-schema schema.vertexLabel('Stage'). ifNotExists(). partitionBy('stage_name', Text). property('latitude', Double). property('longitude', Double). property('coordinates', Point). create(); schema.vertexLabel('Product'). ifNotExists(). partitionBy('product_name', Text). property('latitude', Double). property('longitude', Double). property('coordinates', Point). create(); schema.edgeLabel('sendW'). ifNotExists(). from('Stage'). to('Stage'). clusterBy('timestep', Int, Desc)."><meta property="og:title" content="Graph scheme"><meta property="og:description" content="Graph scheme The Cyclo graph scheme has Product and Stage vertices and a bidirecional sendW edge. The raw material products enter the process, and become work-in-process assets that move from one stage to another until the final product is obtained.
// cyclo-v1-schema schema.vertexLabel('Stage'). ifNotExists(). partitionBy('stage_name', Text). property('latitude', Double). property('longitude', Double). property('coordinates', Point). create(); schema.vertexLabel('Product'). ifNotExists(). partitionBy('product_name', Text). property('latitude', Double). property('longitude', Double). property('coordinates', Point). create(); schema.edgeLabel('sendW'). ifNotExists(). from('Stage'). to('Stage'). clusterBy('timestep', Int, Desc)."><meta property="og:type" content="article"><meta property="og:url" content="https://bampli.github.io/docs/docs/bampli/cyclo/graph-scheme/"><title>Graph scheme | bAmpli v0.05-01</title><link rel=icon href=/docs/favicon.png type=image/x-icon><link rel=stylesheet href=/docs/book.min.63eb88daa545365405ecdbb21033286a325c60a36cfa6d22d21e7c3bc9286941.css integrity="sha256-Y+uI2qVFNlQF7NuyEDMoajJcYKNs+m0i0h58O8koaUE="><script defer src=/docs/en.search.min.60989ae3a7b976d70f6dc52a599cda895ce5cb7689afba0ee9096f3c8fcecd31.js integrity="sha256-YJia46e5dtcPbcUqWZzaiVzly3aJr7oO6QlvPI/OzTE="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/docs><span>bAmpli v0.05-01</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/docs/docs/bampli/>Business Amplifier</a><ul><li><a href=/docs/docs/bampli/cyclo/>Cyclo</a><ul><li><a href=/docs/docs/bampli/cyclo/graph-scheme/ class=active>Graph scheme</a></li></ul></li></ul></li></ul><ul><li><a href=/docs/posts/>Blog</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/docs/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Graph scheme</strong>
<label for=toc-control><img src=/docs/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#graph-scheme>Graph scheme</a></li><li><a href=#pq-factory-cyclo>P&Q Factory Cyclo</a></li><li><a href=#cyclo-api>Cyclo API</a></li><li><a href=#cyclo-server>Cyclo server</a></li></ul></nav></aside></header><article class=markdown><h2 id=graph-scheme>Graph scheme</h2><p>The Cyclo graph scheme has <strong>Product</strong> and <strong>Stage</strong> vertices and a bidirecional <strong>sendW</strong> edge. The raw material products enter the process, and become work-in-process assets that move from one stage to another until the final product is obtained.</p><p><img src=https://user-images.githubusercontent.com/86032/86792421-dad42e80-c040-11ea-98c6-7e7f324c8d1b.jpg alt=cyclo-v1-schema></p><pre><code class=language-console data-lang=console>// cyclo-v1-schema
schema.vertexLabel('Stage').
       ifNotExists().
       partitionBy('stage_name', Text).
       property('latitude', Double).
       property('longitude', Double).
       property('coordinates', Point).
       create();

schema.vertexLabel('Product').
       ifNotExists().
       partitionBy('product_name', Text).
       property('latitude', Double).
       property('longitude', Double).
       property('coordinates', Point).
       create();

schema.edgeLabel('sendW').
       ifNotExists().
       from('Stage').
       to('Stage').
       clusterBy('timestep', Int, Desc).
       create()

schema.edgeLabel('sendW').
       ifNotExists().
       from('Stage').
       to('Product').
       clusterBy('timestep', Int, Desc).
       create()

schema.edgeLabel('sendW').
       ifNotExists().
       from('Product').
       to('Stage').
       clusterBy('timestep', Int, Desc).
       create()
</code></pre><p>More details are shown at the links below:</p><ul><li><a href=https://github.com/bampli/bampli/blob/master/datastax/models/cyclo-v1-schema.groovy>Cyclo-v1 Schema</a> is provided for the Cyclo graph</li><li>Also a <a href=https://github.com/bampli/bampli/blob/master/datastax/models/cyclo-v1-schema.cql>CQL Schema</a> for Cassandra NoSQL database</li></ul><h2 id=pq-factory-cyclo>P&Q Factory Cyclo</h2><p>The <a href=/docs/posts/pq-factory/><strong>P&Q Factory</strong></a> is used as a sample, its manufacturing production flow is shown below:</p><script src=/docs/mermaid.min.js></script><script>mermaid.initialize({flowchart:{useMaxWidth:true}});</script><p class=mermaid>graph LR
PP[P-Part $5/u] --> D1[D 15min/u] --> P[P $90/u 100u/wk]
RM1[RM1 $20/u] --> A1[A 15min/u] --> C1[C 10min/u] --> D1
RM2[RM2 $20/u] --> B2[B 15min/u] --> C2[C 5min/u] --> D1
C2 --> D2[D]
RM3[RM3 $20/u] --> A3[A 10min/u] --> B3[B 15min/u] --> D2[D 5min/u] --> Q[Q $100/U 50u/wk]</p><p>It is also represented according to the product and stage vertices, as shown below:</p><p><img src=https://user-images.githubusercontent.com/86032/86799006-d2332680-c047-11ea-8d02-9da1042c1e51.png alt="p q-graph"></p><p>This schema is inspired by the valuable <a href=https://github.com/datastax/graph-book>Datastax graph-book</a>.</p><h2 id=cyclo-api>Cyclo API</h2><p>The <a href=https://app.swaggerhub.com/apis/motta/bampli>Cyclo API</a> is located at the Business Amplifier project.</p><h2 id=cyclo-server>Cyclo server</h2><p><strong>bAmpli Cyclo Control</strong>: Given a Cyclo, start it.</p><p>Product (Raw Material) &ndash;> Stage &ndash;> Stage &ndash;> Product (for Sale)</p></article><footer class=book-footer><div class="flex justify-between"></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#graph-scheme>Graph scheme</a></li><li><a href=#pq-factory-cyclo>P&Q Factory Cyclo</a></li><li><a href=#cyclo-api>Cyclo API</a></li><li><a href=#cyclo-server>Cyclo server</a></li></ul></nav></aside></main></body></html>